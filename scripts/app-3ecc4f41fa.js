/******/!function(e){function n(t){if(o[t])return o[t].exports;var s=o[t]={exports:{},id:t,loaded:!1};return e[t].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}// webpackBootstrap
/******/
var o={};return n.m=e,n.c=o,n.p="",n(0)}([function(e,n,o){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var s=o(1),r=o(2),i=o(3),a=t(i),c=o(50),l=t(c);angular.module("econdos",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ngFileUpload","ngTagsInput","toastr","validation.match","LocalStorageModule","ui.utils.masks","ui.router","ui.bootstrap","ui.select","angularPromiseButtons","angularMoment","cloudinary",l["default"].name,a["default"].name]).config(s.ConfigBlock).run(r.RunBlock)},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n,o,t,s,r,i){"ngInject";$.material.init(),i.set("cloud_name","econdos"),s.setPrefix("econdos").setStorageType("sessionStorage").setNotify(!0,!0),t.interceptors.push("AuthInterceptor"),t.interceptors.push("ErrorInterceptor"),e.debugEnabled(!0),n.useAnchorScroll(),o.otherwise("/login"),r.extendConfig({spinnerTpl:'<i class="fa fa-spinner fa-spin margin-bottom fa-promise-button"></i>',disableBtn:!0,btnLoadingClass:"is-loading",addClassToCurrentBtnOnly:!1,disableCurrentBtnOnly:!1})};o.$inject=["$logProvider","$uiViewScrollProvider","$urlRouterProvider","$httpProvider","localStorageServiceProvider","angularPromiseButtonsProvider","cloudinaryProvider"],n.ConfigBlock=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";n.create()};o.$inject=["$timeout","Session"],n.RunBlock=o},function(e,n,o){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var s=o(4),r=t(s),i=o(13),a=t(i),c=o(20),l=t(c),u=o(22),d=t(u),p=o(30),m=t(p),f=o(33),v=t(f),h=o(36),g=t(h),b=o(39),y=t(b),w=o(42),C=t(w),_=o(47),k=t(_);n["default"]=angular.module("econdos.modules",[r["default"].name,a["default"].name,l["default"].name,d["default"].name,m["default"].name,v["default"].name,g["default"].name,y["default"].name,C["default"].name,k["default"].name]),e.exports=n["default"]},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(5),s=o(6),r=o(7),i=o(8),a=o(9),c=o(10),l=o(11),u=o(12);n["default"]=angular.module("econdos.modules.account",[]).config(t.routerConfig).service("AccountResource",s.AccountResource).controller("AccountActivateController",r.AccountActivateController).controller("AccountLoginController",i.AccountLoginController).controller("AccountResetController",a.AccountResetController).controller("AccountSignupStep0Controller",c.AccountSignupStep0Controller).controller("AccountSignupStep1Controller",l.AccountSignupStep1Controller).controller("AccountSignupStep2Controller",u.AccountSignupStep2Controller),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){"ngInject";e.state("accountLogin",{url:"/login",templateUrl:"app/modules/account/login/login.view.html"}),e.state("accountSignupStep0",{url:"/signup",templateUrl:"app/modules/account/signup/step0/signup.step0.view.html"}),e.state("accountSignupStep1",{url:"/signup/1",templateUrl:"app/modules/account/signup/step1/signup.step1.view.html"}),e.state("accountSignupStep2",{url:"/signup/2",templateUrl:"app/modules/account/signup/step2/signup.step2.view.html"}),e.state("accountActivate",{url:"/activate?key",templateUrl:"app/modules/account/activate/activate.view.html"}),e.state("accountReset",{url:"/reset/:activationKey",templateUrl:"app/modules/account/reset/reset.view.html"})};o.$inject=["$stateProvider"],n.routerConfig=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";var o=n.backendUrl+"/users/:_id";return e(o,{_id:"@_id"},{register:{method:"POST",url:""+o},update:{method:"PUT",url:""+o},activate:{method:"GET",url:o+"/:id/activate",params:{activationKey:"@key"}},authenticate:{method:"GET",url:o+"/me"},changePassword:{method:"PUT",url:""+o},resetPasswordInit:{method:"PUT",url:o+"/reset"},resetPasswordFinish:{method:"PUT",url:o+"/reset"}})};o.$inject=["$resource","config"],n.AccountResource=o},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function s(e,n){"ngInject";var t=this;o(this,s),this.success=!1,this.account=e.activate({key:n.key}),this.account.$promise.then(function(){t.success=!0})};t.$inject=["AccountResource","$stateParams"],n.AccountActivateController=t},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r){"ngInject";o(this,e),this.Session=s,this.window=n,this.UserResource=r}return e.$inject=["$window","$location","Session","UserResource"],t(e,[{key:"login",value:function(){return this.Session.create(this.user.login,this.user.password)}},{key:"resetPassword",value:function(){var e=this;return this.user&&this.user.login?this.UserResource.resetPassword({email:this.user.login}).$promise.then(function(){e.window.swal("Solicitação recebida!","Clique no link que você recebeu por e-mail \ne altere a sua senha.","success")},function(){var n=e;e.window.swal({title:"Ops!",text:"Não encontramos o seu e-mail. \nAproveite para criar a sua conta!",type:"error",showCancelButton:!0,cancelButtonText:"Fechar",confirmButtonColor:"#FFA90C",confirmButtonText:"Criar minha conta"},function(){n.window.location.href="#/signup"})}):void this.window.swal("Ops!","Preencha o seu e-mail!","error")}}]),e}();n.AccountLoginController=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i){"ngInject";o(this,e),this.Session=r,this.window=n,this.location=t,this.stateParams=s,this.UserResource=i}return e.$inject=["$window","$location","$stateParams","Session","UserResource"],t(e,[{key:"reset",value:function(){var e=this;return this.UserResource.activate({email:this.user.email,activationKey:this.stateParams.activationKey},{password:this.user.password}).$promise.then(function(){e.window.swal("Senha Alterada!","Faça o login novamente.","success"),e.location.path("/login")},function(){e.window.swal("Ops!","Não foi possível alterar a sua senha. \n Verifique se o seu e-mail foi digitado corretamente.","error"),e.location.path("/reset/"+e.stateParams.activationKey)})}}]),e}();n.AccountResetController=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s){"ngInject";o(this,e),this.user=new n,this.$location=t,this.Session=s}return e.$inject=["UserResource","$location","Session"],t(e,[{key:"save",value:function(){var e=this;return this.user.langKey="pt",this.user.email=this.user.login,this.user.baseUrl=this.$location.absUrl().split("/#")[0],this.user.signupStep=1,_.clone(this.user).$register().then(function(){e.Session.create(e.user.login,e.user.password).then(function(){e.$location.path("/signup/1")})})["catch"](function(){swal("Este usuário já existe!","Tente utilizar outro e-mail.","error")})}}]),e}();n.AccountSignupStep0Controller=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i){"ngInject";o(this,e),this.user=n.get(),this.$location=t,this.scope=s,this.window=r,this.FileResource=i,this.date=new Date,this.scope.uploadPicture=this.uploadPicture,this.scope.vm=this}return e.$inject=["Session","$location","$scope","$window","FileResource"],t(e,[{key:"save",value:function(){var e=this;return this.user.signupStep=2,_.clone(this.user).$update().then(function(){e.$location.path("/signup/2")})}},{key:"uploadPicture",value:function(e){var n,o,t;n=this.vm,o=new FormData,n.uploading=!0,n.window._.forEach(e.files,function(e){e.type.indexOf("image")&&(t=!0),o.append("file",e)}),t?(n.uploading=!1,n.window.swal("Ops!","Você só pode enviar imagens!","error")):n.FileResource.upload(null,o).$promise.then(function(e){n.user.picture=e[0],n.uploading=!1},function(){n.uploading=!1,n.window.swal("Ops!","Não foi possível salvar esta imagen. \nPor favor, tente novamente mais tarde.","error")})}}]),e}();n.AccountSignupStep1Controller=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i,a,c){"ngInject";o(this,e),this.q=s,this.swal=t.swal,this.$location=n,this.Session=r,this.CondoResource=i,this.CondoModals=a,this.CondoService=c,this.user=r.get(),this.condos=[],this.loading=!1}return e.$inject=["$location","$window","$q","Session","CondoResource","CondoModals","CondoService"],t(e,[{key:"filterCondos",value:function(){var e=this;this.loading=!0,this.condos=this.CondoResource.query({"$text[$search]":this.filterTerm}),this.condos.$promise.then(function(){e.loading=!1})}},{key:"chooseCondo",value:function(e){var n=this;this.CondoResource.addUser({_id:e._id,userId:this.user._id}).$promise.then(function(){n.Session.setCondo(e).then(function(){n.$location.path("/feed"),n.swal("Cadastro Finalizado","Bem-vindo(a) ao seu condomínio!","success")})})}},{key:"createCondo",value:function(){var e=this;return this.CondoModals.create().then(function(n){e.chooseCondo(n)})}}]),e}();n.AccountSignupStep2Controller=s},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(14),s=o(15),r=o(16),i=o(17),a=o(18),c=o(19);n["default"]=angular.module("econdos.modules.condo",[]).config(t.routerConfig).service("CondoResource",s.CondoResource).service("CondoModals",r.CondoModals).service("CondoService",i.CondoService).controller("CondoModalsCreateController",a.CondoModalsCreateController).controller("CondoModalsCreateUserController",c.CondoModalsCreateUserController),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){"ngInject"};n.routerConfig=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";function o(e){var n=e instanceof Object?e:angular.fromJson(e);return n.identification=0===n.identification?"":n.identification,n.residents=_.unionBy(n.users,n.requesters,"_id"),n}function t(e){var n=e instanceof Array?e:angular.fromJson(e);return n=n.map(o)}function s(e){return angular.toJson(e)}var r=n.backendUrl+"/condos";return e(r+"/:_id",{_id:"@_id"},{search:{method:"GET",isArray:!0,url:n.backendUrl+"/_search/condos/:query"},getUsers:{method:"GET",isArray:!0,url:r+"/:_id/users"},createUser:{method:"POST",url:r+"/:_id/users"},addUser:{method:"PUT",url:r+"/:_id/users/:userId",params:{userId:"@userId"}},removeLoggedUser:{method:"DELETE",url:r+"/:_id/users/me"},getResidences:{method:"GET",isArray:!0,url:r+"/:_id/residences",params:{$populate:"@$populate"},transformResponse:t},getResidence:{method:"GET",url:r+"/:_id/residences/:residenceId",params:{residenceId:"@residenceId",populate:"@$populate"},transformResponse:o},addResidence:{method:"POST",url:r+"/:_id/residences"},addUserToResidence:{method:"PUT",url:r+"/:_id/residences/:residenceId/users/:userId",params:{residenceId:"@residenceId",userId:"@userId"}},removeUserFromResidence:{method:"PUT",url:r+"/:_id/residences/:residenceId/users/:userId/reject",params:{residenceId:"@residenceId",userId:"@userId"}},updateResidence:{method:"PUT",url:r+"/:_id/residences/:residenceId",params:{residenceId:"@residenceId"}},getOccurrences:{method:"GET",isArray:!0,url:r+"/:_id/occurrences",params:{"$populate[0]":"_comments","$populate[1][path]":"pictures","$populate[1][select]":"url","$populate[2]":"favorVotes","$populate[3]":"againstVotes",$sort:"-createdAt"}},getOccurrence:{method:"GET",url:r+"/:_id/occurrences/:occurrenceId",params:{occurenceId:"@occurrenceId","$populate[0]":"comments","$populate[1][path]":"createdBy","$populate[1][select]":"firstName lastName picture","$populate[2]":"favorVotes","$populate[3]":"againstVotes","$populate[4]":"pictures",$sort:"-createdAt"}},addOccurrence:{method:"POST",url:r+"/:_id/occurrences",transformRequest:s},removeOccurrence:{method:"DELETE",url:r+"/:_id/occurrences/:occurrenceId",params:{occurrenceId:"@occurrenceId"}},uploadFiles:{method:"POST",url:r+"/:_id/files/upload",headers:{"Content-Type":void 0},isArray:!0},likeOccurrence:{method:"PUT",url:r+"/:_id/occurrences/:occurrenceId/like",params:{occurrenceId:"@occurrenceId"}},undoLikeOccurrence:{method:"DELETE",url:r+"/:_id/occurrences/:occurrenceId/like",params:{occurrenceId:"@occurrenceId"}},commentOccurrence:{method:"POST",url:r+"/:_id/occurrences/:occurrenceId/comments",params:{occurrenceId:"@occurrenceId"}},getOccurrenceComments:{method:"GET",isArray:!0,url:r+"/:_id/occurrences/:occurrenceId/comments",params:{occurreceId:"@occurrenceId",$limit:1e3,"$populate[1][path]":"createdBy","$populate[1][select]":"firstName lastName picture","$populate[1][populate][path]":"picture","$populate[1][populate][select]":"url",$sort:"-createdAt"}},voteForOccurrence:{method:"PUT",url:r+"/:_id/occurrences/:occurrenceId/vote",params:{occurrenceId:"@occurrenceId"}},voteAgainstOccurrence:{method:"DELETE",url:r+"/:_id/occurrences/:occurrenceId/vote",params:{occurrenceId:"@occurrenceId"}}})};o.$inject=["$resource","config"],n.CondoResource=o},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n){"ngInject";o(this,e),this.modal=n}return e.$inject=["$uibModal"],t(e,[{key:"create",value:function(){return this.modal.open({templateUrl:"app/modules/condo/modals/create/create.view.html",controller:"CondoModalsCreateController",controllerAs:"vm"}).result}},{key:"createUser",value:function(){return this.modal.open({templateUrl:"app/modules/condo/modals/createUser/create.view.html",controller:"CondoModalsCreateUserController",controllerAs:"vm"}).result}}]),e}();n.CondoModals=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function s(){"ngInject";o(this,s)};n.CondoService=t},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s){"ngInject";o(this,e),this.window=n,this.condo=new s,this.modalInstance=t,this.CondoResource=s,this.CondoResource=s}return e.$inject=["$window","$uibModalInstance","CondoResource"],t(e,[{key:"save",value:function(){var e=this;return this.condo.$save().then(function(n){e.CondoResource.get({_id:n._id}).$promise.then(function(n){e.modalInstance.close(n)})},function(n){e.window.swal("Ops!","Este condomínio já existe!","error"),e.modalInstance.dismiss()})}},{key:"close",value:function(){this.modalInstance.dismiss()}}]),e}();n.CondoModalsCreateController=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r){"ngInject";o(this,e),this.user=new s,this.Session=t,this.UserResource=s,this.CondoResource=n,this.modalInstance=r,this.condo=this.Session.getCondo()}return e.$inject=["CondoResource","Session","UserResource","$uibModalInstance"],t(e,[{key:"filterUsers",value:function(){this.users=this.UserResource.query({email:this.filterTerm})}},{key:"chooseUser",value:function(e){var n=this;return this.CondoResource.addUser({_id:this.condo._id,userId:e._id},{email:this.filterTerm}).$promise.then(function(){n.modalInstance.close(e)})}},{key:"createUser",value:function(){var e=this;return this.CondoResource.createUser({_id:this.condo._id},{firstName:this.user.firstName,lastName:this.user.lastName,email:this.filterTerm}).$promise.then(function(n){n.firstName=e.user.firstName,n.lastName=e.user.lastName,n.email=e.filterTerm,e.modalInstance.close(n)})}},{key:"close",value:function(){this.modalInstance.dismiss()}}]),e}();n.CondoModalsCreateUserController=s},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(21);n["default"]=angular.module("econdos.modules.home",[]).config(t.routerConfig),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){"ngInject";e.state("home",{url:"/",templateUrl:"app/modules/home/index.html"})};o.$inject=["$stateProvider"],n.routerConfig=o},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(23),s=o(24),r=o(25),i=o(26),a=o(27),c=o(28),l=o(29);n["default"]=angular.module("econdos.modules.feed",[]).config(t.routerConfig).service("FeedResource",s.FeedResource).controller("FeedController",r.FeedController).controller("FeedNavbarController",i.FeedNavbarController).controller("FeedCondosController",a.FeedCondosController).controller("FeedUserController",l.FeedUserController).controller("FeedResidentsController",c.FeedResidentsController),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){"ngInject";e.state("feed",{url:"/feed",templateUrl:"app/modules/feed/index.view.html"}),e.state("feedUser",{url:"/meus-dados",templateUrl:"app/modules/feed/user/user.view.html"}),e.state("feedCondos",{url:"/meus-condominios",templateUrl:"app/modules/feed/condos/condos.view.html"}),e.state("feedCondoResidents",{url:"/:condoId/integrantes",templateUrl:"app/modules/feed/residents/residents.view.html"})};o.$inject=["$stateProvider"],n.routerConfig=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";var o=""+n.backendUrl;return e(o,{_id:"@_id"},{})};o.$inject=["$resource","config"],n.FeedResource=o},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i,a,c,l,u,d,p,m){"ngInject";var f=this;if(o(this,e),this.window=t,this.swal=this.window.swal,this.location=s,this.CondoResource=p,this.CondoService=m,this.Session=d,this.scope=n,this.q=i,this.http=a,this.upload=l,this.cloudinary=u,this.condo=this.Session.getCondo(),!this.condo){var v=this;return void this.window.swal({title:"Ops!",text:"Você não possui nenhum condomínio adicionado.",type:"error",showCancelButton:!1,confirmButtonColor:"#FFA90C",confirmButtonText:"Escolher um condomínio"},function(){v.window.location.href="#/meus-condominios"})}this.user=this.Session.get(),this.users=this.getUsers(),this.scope.uploadPictures=this.uploadPictures,this.scope.vm=this,this.getOccurrences(),this.resolve=function(){r.$resolved=!0};var h=function(e){var n=e.occurrence._id||e.occurrence;return f.occurrences.find(function(e){return e._id==n})};r.$on("OCCURRENCE-NEW",function(e,n){f.occurrences.unshift(n.occurrence),r.$apply()}),r.$on("OCCURRENCE-LIKE",function(e,n){var o=h(n),t=o.likers.indexOf(n.createdBy);-1==t&&(o.likers.push(n.createdBy),r.$apply())}),r.$on("OCCURRENCE-DISLIKE",function(e,n){var o=h(n),t=o.likers.indexOf(n.createdBy);t>-1&&(o.likers.splice(t,1),r.$apply())}),r.$on("COMMENT-NEW",function(e,n){var o=h(n);o.comments=o.comments||[],o.comments.unshift(n.comment),o.commentsTotal++,r.$apply()}),n.trustSrc=function(e){return c.trustAsResourceUrl(e)}}return e.$inject=["$scope","$window","$location","$rootScope","$q","$http","$sce","Upload","cloudinary","Session","CondoResource","CondoService"],t(e,[{key:"getOccurrences",value:function(){this.occurrences=this.CondoResource.getOccurrences({_id:this.condo._id})}},{key:"addOccurrence",value:function(){var e=this;return this.CondoResource.addOccurrence({_id:this.condo._id},this.occurrence).$promise.then(function(){e.swal("Publicado!","Seu post foi enviado com sucesso.","success"),e.occurrence={type:e.occurrence.type}})}},{key:"setOccurrenceType",value:function(e){this.occurrence?this.occurrence.type=e:this.occurrence={type:e}}},{key:"likeOccurrence",value:function(e){e.isLoading=!0,e.likers.indexOf(this.user._id)>-1?this.CondoResource.undoLikeOccurrence({_id:this.condo._id,occurrenceId:e._id}).$promise.then(function(){e.isLoading=!1}):this.CondoResource.likeOccurrence({_id:this.condo._id,occurrenceId:e._id}).$promise.then(function(){e.isLoading=!1})}},{key:"commentOccurrence",value:function(e){return e.newComment&&e.newComment.length>2?this.CondoResource.commentOccurrence({_id:this.condo._id,occurrenceId:e._id},{description:e.newComment}).$promise.then(function(){e.newComment=""}):void this.swal("Ops","Você precisa digitar no mínimo 3 caracteres!","error")}},{key:"showComments",value:function(e){return this.CondoResource.getOccurrenceComments({_id:this.condo._id,occurrenceId:e._id}).$promise.then(function(n){e.comments=n,e.isShowingAllComments=!0})}},{key:"hideComments",value:function(e){e.comments=e.comments.slice(0,3),e.isShowingAllComments=!1}},{key:"voteOccurrence",value:function(e,n){var o,t,s=this;o=this,this.user.defaultResidence?(e.isVoting=!0,t=this.window._.findIndex(this.occurrences,{_id:e._id}),n===!0?this.CondoResource.voteForOccurrence({_id:this.condo._id,occurrenceId:e._id}).$promise.then(function(){s.CondoResource.getOccurrence({_id:s.condo._id,occurrenceId:e._id}).$promise.then(function(e){s.occurrences[t]=e})}):this.CondoResource.voteAgainstOccurrence({_id:this.condo._id,occurrenceId:e._id}).$promise.then(function(){s.CondoResource.getOccurrence({_id:s.condo._id,occurrenceId:e._id}).$promise.then(function(e){s.occurrences[t]=e})})):this.window.swal({title:"Selecione uma Residência",text:"Para votar, é obrigatório que você escolha a sua residência neste condomínio!",type:"warning",showCancelButton:!0,confirmButtonText:"Selecionar"},function(){o.window.location.href="#/"+o.condo._id+"/integrantes"})}},{key:"findOccurrenceVote",value:function(e){return this.window._.find(e,{voter:this.user._id})}},{key:"uploadPictures",value:function(e){var n,o,t;n=this.vm,o=new FormData,n.uploading=!0,n.window._.forEach(e.files,function(e){e.type.indexOf("image")&&(t=!0),o.append("file",e)}),t?(n.uploading=!1,n.window.swal("Ops!","Você só pode enviar imagens!","error")):n.CondoResource.uploadFiles({_id:n.condo._id},o).$promise.then(function(e){n.occurrence.pictures?n.occurrence.pictures=n.occurrence.pictures.concat(e):n.occurrence.pictures=e,n.uploading=!1},function(){n.uploading=!1,n.window.swal("Ops!","Não foi possível salvar esta(s) imagen(s). \nPor favor, tente novamente mais tarde.","error")}),document.getElementById("occurrenceFiles").value=null}},{key:"removePicture",value:function(e){this.occurrence.pictures.splice(e,1)}},{key:"getUsers",value:function(e){var n=this;return this.CondoResource.getUsers({_id:this.Session.getCondo()._id,"$text[$search]":e}).$promise.then(function(e){return n.window._.map(e,function(e){return e.name=e.firstName+" "+e.lastName,e})})}}]),e}();n.FeedController=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i){"ngInject";o(this,e),this.window=n,this._=this.window._,this.swal=this.window.swal,this.Session=s,this.CondoService=r,this.UserResource=i,this.location=t,this.isCollapsed=!0,this.user=this.Session.get(),this.notifications=this.UserResource.getNotifications(),this.getCondo()}return e.$inject=["$window","$location","Session","CondoService","UserResource"],t(e,[{key:"getCondo",value:function(){this.condo=this.Session.getCondo()}},{key:"chooseCondo",value:function(e){var n=this;this.Session.setCondo(e).then(function(){n.window.location.reload()})}},{key:"logOut",value:function(){this.Session.logout(),this.location.path("/login")}},{key:"getUnreadNotifications",value:function(){return this._.filter(this.notifications,{read:!1}).length}},{key:"markNotificationsAsRead",value:function(){this.UserResource.markNotificationsAsRead()}}]),e}();n.FeedNavbarController=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i,a,c){"ngInject";o(this,e),this.window=t,this._=this.window._,this.swal=this.window.swal,this.Session=s,this.location=n,this.CondoResource=r,this.CondoModals=i,this.CondoService=a,this.UserResource=c,this.user=this.Session.get(),this.condo=this.Session.getCondo(),this.loading=!1}return e.$inject=["$location","$window","Session","CondoResource","CondoModals","CondoService","UserResource"],t(e,[{key:"filterCondos",value:function(){var e=this;this.loading=!0,this.condos=this.CondoResource.query({"$text[$search]":this.filterTerm}),this.condos.$promise.then(function(){e.loading=!1})}},{key:"removeCondo",value:function(e){var n=this;this.user.condos.length>1?this.swal({title:"Tem certeza?",text:"Esta ação não poderá ser desfeita.",type:"warning",showCancelButton:!0,cancelButtonText:"Não",confirmButtonColor:"#DD6B55",confirmButtonText:"Sim",closeOnConfirm:!1},function(o){o&&n.CondoResource.removeLoggedUser({_id:e._id}).$promise.then(function(){var o=n._.findIndex(n.user.condos,{_id:e._id});n.user.condos.splice(o,1),n.Session.setCondo(n.user.condos[0]).then(function(){n.swal("Condomínio Removido","O condomínio foi removido com sucesso!","success")})})}):this.swal("Ops!","Adicione outro condomínio antes de remover o existente.","error")}},{key:"addCondo",value:function(e){var n=this;this.CondoResource.addUser({_id:e._id,userId:this.user._id}).$promise.then(function(){n.swal("Condomínio Adicionado","O condomínio foi adicionado com sucesso!","success"),n.user.condos.push(e)})}},{key:"createCondo",value:function(){var e=this;this.CondoModals.create().then(function(n){e.addCondo(n)})}},{key:"isAlreadyMine",value:function(e){return this._.findIndex(this.user.condos,{_id:e._id})>=0?!0:!1}}]),e}();n.FeedCondosController=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i,a,c){"ngInject";var l=this;o(this,e),this.window=t,this._=this.window._,this.swal=this.window.swal,this.location=n,this.stateParams=s,this.CondoResource=i,this.CondoService=a,this.CondoModals=c,this.Session=r,this.CondoResource.get({_id:this.stateParams.condoId}).$promise.then(function(e){l.condo=e,l.Session.setCondo(l.condo).then(function(e){l.user=e,l.user.defaultResidence&&(l.residence=l.CondoResource.getResidence({_id:l.condo._id,residenceId:l.user.defaultResidence._id,$populate:"users requesters"})),l.residences=l.CondoResource.getResidences({_id:l.condo._id,$populate:"users requesters"})})})}return e.$inject=["$location","$window","$stateParams","Session","CondoResource","CondoService","CondoModals"],t(e,[{key:"setResidence",value:function(){var e=this;if(this.newResidence){if(!this.newResidence._id)return this.CondoResource.addResidence({_id:this.condo._id},{identification:this.newResidence.identification}).$promise.then(function(n){e.CondoResource.getResidence({_id:e.condo._id,residenceId:n._id,$populate:"users requesters"}).$promise.then(function(n){e.newResidence={},e.residence=n,e.Session.refresh(),e.swal("Residência cadastrada","Você foi adicionado à residência cadastrada!","success")})},function(){e.residenceNotFound=!1,e.swal("Residência já existe","Você tentou adicionar uma residência que já existe. \nEscolha entre as nossas opções.","error")});this.CondoResource.addUserToResidence({_id:this.condo._id,residenceId:this.newResidence._id,userId:this.user._id}).$promise.then(function(){e.residence=e.newResidence,e.newResidence={},e.Session.refresh(),e.swal("Residência selecionada","Você foi adicionado à residência selecionada!","success")})}else this.swal("Ops!","Você precisa inserir a residência.","error")}},{key:"addUser",value:function(){var e=this;this.CondoModals.createUser().then(function(n){e.CondoResource.addUserToResidence({_id:e.condo._id,residenceId:e.residence._id,userId:n._id}).$promise.then(function(){e._.some(e.residence.requesters,{_id:n._id})||e.residence.requesters.push(n)})})}},{key:"removeUser",value:function(e,n){var o=this;this.swal({title:"Tem certeza?",text:"Esta ação não poderá ser desfeita.",type:"warning",showCancelButton:!0,cancelButtonText:"Não",confirmButtonColor:"#DD6B55",confirmButtonText:"Sim",closeOnConfirm:!1},function(t){t&&o.CondoResource.removeUserFromResidence({_id:o.condo._id,residenceId:o.residence._id,userId:e._id}).$promise.then(function(){if(e!=o.user){o.swal("Integrante Removido","O integrante foi removido com sucesso!","success");var t=o._.findIndex(n,{_id:e._id});n.splice(t,1);
}else o.residence={},o.swal.close(),o.Session.refresh()})})}},{key:"changeResidence",value:function(e,n){this.residenceNotFound=!1,this.removeUser(e,n)}},{key:"isRequester",value:function(){return _.find(this.residence.requesters,{_id:this.user._id})?!0:!1}}]),e}();n.FeedResidentsController=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i){"ngInject";o(this,e),this.window=n,this._=this.window._,this.swal=this.window.swal,this.Session=r,this.FileResource=i,this.location=t,this.scope=s,this.user=this.Session.get(),this.scope.uploadPicture=this.uploadPicture,this.scope.vm=this}return e.$inject=["$window","$location","$scope","Session","FileResource"],t(e,[{key:"save",value:function(){var e=this;return this._.clone(this.user).$update().then(function(){e.swal("Dados Alterados","Seus dados foram alterados com sucesso! ","success")})}},{key:"uploadPicture",value:function(e){var n,o,t;n=this.vm,o=new FormData,n.uploading=!0,n.window._.forEach(e.files,function(e){e.type.indexOf("image")&&(t=!0),o.append("file",e)}),t?(n.uploading=!1,n.window.swal("Ops!","Você só pode enviar imagens!","error")):n.FileResource.upload(null,o).$promise.then(function(e){n.user.picture=e[0],n.uploading=!1},function(){n.uploading=!1,n.window.swal("Ops!","Não foi possível salvar esta imagen. \nPor favor, tente novamente mais tarde.","error")})}}]),e}();n.FeedUserController=s},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(31),s=o(32);n["default"]=angular.module("econdos.modules.file",[]).config(t.routerConfig).service("FileResource",s.FileResource),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){"ngInject"};n.routerConfig=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";var o=n.backendUrl+"/files/:_id";return e(o,{_id:"@_id"},{upload:{method:"POST",url:o+"/upload",headers:{"Content-Type":void 0},isArray:!0}})};o.$inject=["$resource","config"],n.FileResource=o},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(34),s=o(35);n["default"]=angular.module("econdos.modules.user",[]).config(t.routerConfig).service("UserResource",s.UserResource),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){"ngInject"};n.routerConfig=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";var o=n.backendUrl+"/users/:_id";return e(o,{_id:"@_id"},{register:{method:"POST",url:""+o},update:{method:"PUT",url:""+o},activate:{method:"PUT",url:o+"/:email/activate",params:{activationKey:"@activationKey",email:"@email"}},authenticate:{method:"GET",url:o+"/me",params:{"$populate[0]":"picture"}},resetPassword:{method:"GET",url:o+"/:email/reset",params:{email:"@email"}},getNotifications:{method:"GET",isArray:!0,url:o+"/me/notifications",params:{$limit:"5","$populate[0][path]":"createdBy","$populate[0][select]":"firstName lastName",$sort:"-createdAt"}},markNotificationsAsRead:{method:"PUT",url:o+"/me/notifications"}})};o.$inject=["$resource","config"],n.UserResource=o},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(37),s=o(38);n["default"]=angular.module("econdos.modules.authority",[]).config(t.routerConfig).service("AuthorityResource",s.AuthorityResource),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){"ngInject"};n.routerConfig=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";var o=n.backendUrl+"/authority";return e(o,{id:"@id"},{login:{method:"POST",url:o+"/login"},signup:{method:"POST",url:o+"/signup"}})};o.$inject=["$resource","config"],n.AuthorityResource=o},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(40),s=o(41);n["default"]=angular.module("econdos.modules.comment",[]).config(t.routerConfig).service("CommentResource",s.CommentResource),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){"ngInject"};n.routerConfig=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";var o=n.backendUrl+"/comment";return e(o,{id:"@id"},{login:{method:"POST",url:o+"/login"},signup:{method:"POST",url:o+"/signup"}})};o.$inject=["$resource","config"],n.CommentResource=o},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(43),s=o(44),r=o(45),i=o(46);n["default"]=angular.module("econdos.modules.residence",[]).config(t.routerConfig).service("ResidenceResource",s.ResidenceResource).service("ResidenceModals",r.ResidenceModals).controller("ResidenceModalsCreateController",i.ResidenceModalsCreateController),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){"ngInject"};n.routerConfig=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";var o=n.backendUrl+"/api/residences";return e(o,{id:"@id"},{})};o.$inject=["$resource","config"],n.ResidenceResource=o},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n){"ngInject";o(this,e),this.modal=n}return e.$inject=["$uibModal"],t(e,[{key:"create",value:function(){return this.modal.open({templateUrl:"app/modules/residence/modals/create/create.view.html",controller:"ResidenceModalsCreateController",controllerAs:"vm"}).result}}]),e}();n.CondoModals=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t){"ngInject";o(this,e),this.residence=new n,this.modalInstance=t}return e.$inject=["ResidenceResource","$uibModalInstance"],t(e,[{key:"save",value:function(){var e=this;this.residence.$save().then(function(n){e.modalInstance.close(n)})}}]),e}();n.ResidenceModalsCreateController=s},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(48),s=o(49);n["default"]=angular.module("econdos.modules.occurrence",[]).config(t.routerConfig).service("OccurrenceResource",s.OccurrenceResource),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){"ngInject"};n.routerConfig=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";var o=n.backendUrl+"/occurrence";return e(o,{id:"@id"},{login:{method:"POST",url:o+"/login"},signup:{method:"POST",url:o+"/signup"}})};o.$inject=["$resource","config"],n.OccurrenceResource=o},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(51),s=o(52),r=o(53),i=o(54),a=o(55),c=o(56),l=o(57),u=o(58),d=o(59);n["default"]=angular.module("joinesty.core",[]).constant("config",t.config).directive("scrollToItem",s.scrollToItem).directive("lightgallery",r.lightgallery).factory("$mock",i.$mock).service("AuthInterceptor",a.AuthInterceptor).service("ErrorInterceptor",c.ErrorInterceptor).service("Auth",l.AuthService).service("Base64",u.Base64Service).service("Session",d.SessionService),e.exports=n["default"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={env:"production",backendUrl:"https://econdos.herokuapp.com/api/v1",appSecret:"Bx522vYx66b30pX190Ug2odY5AKgJ9p3",awsKey:"",awsSecret:"",awsBucket:"",awsRegion:"",pusherAppKey:"7198790adb090cf2762e"};n.config=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){"ngInject";return{restrict:"A",scope:{scrollTo:"@"},link:function(e,n){n.on("click",function(){angular.element("html,body").animate({scrollTop:angular.element(e.scrollTo).offset().top},"slow")})}}};n.scrollToItem=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){"ngInject";return{restrict:"A",link:function(e,n){e.$last&&n.parent().lightGallery({thumbnail:!0,hash:!1})}}};n.lightgallery=o},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,n){"ngInject";var o=angular.copy(e),t={Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8",app_token:"tOkEn"};return o.headers={get:{Accept:t.Accept,app_token:t.app_token},post:{Accept:t.Accept,"Content-Type":t["Content-Type"],app_token:t.app_token},put:{Accept:t.Accept,"Content-Type":t["Content-Type"],app_token:t.app_token}},o.backendUrl=n.backendUrl,o.whenPOST(o.backendUrl+"/application/token").respond(200,{token:o.headers.post.app_token}),o};o.$inject=["$httpBackend","config"],n.$mock=o},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function s(e){"ngInject";o(this,s),this.request=function(n){var o=e.get("token");return o&&(n.headers=n.headers||{},n.headers.Authorization="Basic "+o),n}};t.$inject=["localStorageService"],n.AuthInterceptor=t},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function s(e,n,t){"ngInject";o(this,s),this.responseError=function(o){var s=function(){var n="Desculpe, tivemos um problema! Tente novamente ou entre em contato conosco.",t=o.data?o.data.error_description||o.data:n;e.swal("Ops...",t,"error")},r=function(){t.url("/login"),e.swal("Ops...","Não foi possível realizar o login. \nVerifique seu e-mail e senha!","error")};switch(o.status){case 400:s();break;case 401:r()}return n.reject(o)}};t.$inject=["$window","$q","$location"],n.ErrorInterceptor=t},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i,a){"ngInject";o(this,e),this.http=n,this.base64=r,this.backendUrl=t.backendUrl,this.pusherAppKey=t.pusherAppKey,this.localStorage=s,this.q=i,this.window=a,this.pusher=null}return e.$inject=["$http","config","localStorageService","Base64","$q","$window"],t(e,[{key:"login",value:function(e,n){var o=this,t=this.q.defer();this.localStorage.remove("token");var s=this.base64.encode(e+":"+n);return this.http.get(this.backendUrl+"/users/me",{headers:{Authorization:"Basic "+s}}).success(function(e){o.localStorage.set("token",s),t.resolve(e.data||e)})["catch"](t.reject),t.promise}},{key:"logout",value:function(){this.localStorage.clearAll()}},{key:"getToken",value:function(){return this.localStorage.get("token")}},{key:"hasValidToken",value:function(){return this.getToken()}},{key:"getPusher",value:function(){return this.pusher=this.pusher||new this.window.Pusher(this.pusherAppKey,{authEndpoint:this.backendUrl+"/users/me/notifications/pusher/auth",auth:{headers:{Authorization:"Basic "+this.getToken()}}}),this.pusher}}]),e}();n.AuthService=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(){"ngInject";o(this,e),this.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}return t(e,[{key:"encode",value:function(e){for(var n,o,t,s,r,i="",a="",c="",l=0;l<e.length;)n=e.charCodeAt(l++),o=e.charCodeAt(l++),a=e.charCodeAt(l++),t=n>>2,s=(3&n)<<4|o>>4,r=(15&o)<<2|a>>6,c=63&a,isNaN(o)?r=c=64:isNaN(a)&&(c=64),i=i+this.keyStr.charAt(t)+this.keyStr.charAt(s)+this.keyStr.charAt(r)+this.keyStr.charAt(c),n=o=a="",t=s=r=c="";return i}},{key:"decode",value:function(e){var n,o,t,s,r,i="",a="",c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=this.keyStr.indexOf(e.charAt(l++)),s=this.keyStr.indexOf(e.charAt(l++)),r=this.keyStr.indexOf(e.charAt(l++)),c=this.keyStr.indexOf(e.charAt(l++)),n=t<<2|s>>4,o=(15&s)<<4|r>>2,a=(3&r)<<6|c,i+=String.fromCharCode(n),64!==r&&(i+=String.fromCharCode(o)),64!==c&&(i+=String.fromCharCode(a)),n=o=a="",t=s=r=c=""}}]),e}();n.Base64Service=s},function(e,n){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=function(){function e(n,t,s,r,i,a,c,l){"ngInject";o(this,e),this.logged=null,this.q=r,this.auth=n,this.token=l.get("token"),this.UserResource=t,this.location=a,this.cookies=i,this.window=s,this.resolve=function(){c.$resolved=!0},this.broadcast=function(e){return c.$broadcast(e.type,e)}}return e.$inject=["Auth","UserResource","$window","$q","$cookies","$location","$rootScope","localStorageService"],t(e,[{key:"create",value:function(e,n){var o=this,t=this.q.defer();this.isAuthentication=!1;var s=function(e){var n=0===e.signupStep||e.signupStep?e.signupStep:1,s=0===n?"/feed":"/signup/"+n;o.logged=new o.UserResource(e),o.isAuthentication||o.location.url(s);var r=o.broadcast;e&&e._id&&o.auth.getPusher().subscribe("private-user-"+e._id).bind("notification",r),e.defaultCondo&&o.auth.getPusher().subscribe("private-condo-"+(e.defaultCondo._id||e.defaultCondo)).bind("notification",r),o.resolve(),t.resolve(e)},r=function(e){-1===["/activate","/signup","/reset"].indexOf(o.location.path())&&o.location.url("/login"),o.resolve(),t.reject(e)};return e&&n?(this.authType="login",this.auth.login(e,n).then(s,r)):this.token?(this.isAuthentication=!0,this.UserResource.authenticate().$promise.then(s,r)):r("Not Authorized"),t.promise}},{key:"logout",value:function(){return this.auth.logout()}},{key:"get",value:function(){return this.logged}},{key:"refresh",value:function(){return this.logged=this.UserResource.authenticate()}},{key:"getCondo",value:function(){return this.window._.find(this.logged.condos,{_id:this.logged.defaultCondo})}},{key:"setCondo",value:function(e,n){var o=this,t=this.get();return this.cookies.putObject("condo",e),n?void 0:this.UserResource.update({_id:t._id},{defaultCondo:e._id,signupStep:0}).$promise.then(function(){return o.UserResource.authenticate().$promise.then(function(e){return o.logged=e})})}},{key:"isAdmin",value:function(){var e=void 0,n=void 0;if(e=this.get(),n=this.getCondo(),e&&n){if(e.condosAdmin.length>0)return _.some(e.condosAdmin,{_id:n._id});if(e.condosOwner.length>0)return _.some(e.condosOwner,{_id:n._id})}return!1}}]),e}();n.SessionService=s}]),angular.module("econdos").run(["$templateCache",function(e){e.put("app/modules/feed/index.view.html",'<div class="logged-in" ng-controller="FeedController as vm"><div ng-include="\'app/modules/feed/navbar/navbar.view.html\'"></div><div class="container"><div class="row" ng-if="vm.Session.getCondo()"><div class="col-sm-12"><form name="postOccurrence" ng-submit="vm.addOccurrence();" promise-btn=""><div class="panel panel-primary panel-publication"><div class="panel-body"><uib-tabset><uib-tab heading="Ocorrência Pública" select="vm.setOccurrenceType(\'PUBLIC\')"><div class="form-post"><div class="form-group"><input ng-model="vm.occurrence.title" required="" type="text" placeholder="Escreva um título para a sua ocorrência..." class="form-control"></div><div class="form-group"><textarea ng-model="vm.occurrence.description" required="" placeholder="O que você gostaria de reportar?" class="form-control"></textarea></div><h5>Imagens:</h5><div class="form-images"><label class="form-file"><i class="fa" ng-class="vm.uploading ? \'fa-spinner fa-spin\' : \'fa-plus\'"></i> <input type="file" class="hidden" id="occurrenceFiles" ng-model="vm.occurrence.files" onchange="angular.element(this).scope().uploadPictures(this)" multiple=""></label> <span class="form-image" ng-repeat="picture in vm.occurrence.pictures"><img ng-src="{{ trustSrc(picture.url) }}"><div class="close" ng-click="vm.removePicture($index)"><i class="fa fa-times"></i></div></span></div></div></uib-tab><uib-tab heading="Ocorrência Privada" select="vm.setOccurrenceType(\'PRIVATE\')"><div class="form-post"><div class="form-group"><input ng-model="vm.occurrence.title" required="" type="text" placeholder="Escreva um título para a sua ocorrência..." class="form-control"></div><div class="form-group"><textarea ng-model="vm.occurrence.description" required="" placeholder="O que você gostaria de reportar?" class="form-control"></textarea></div><div class="form-group"><tags-input ng-model="vm.occurrence.viewers" placeholder="Enviar esta ocorrência para..." display-property="name" key-property="_id" add-from-autocomplete-only="true" replace-spaces-with-dashes="false"><auto-complete source="vm.getUsers($query)" load-on-focus="true" load-on-empty="true" display-property="name" min-length="0"></auto-complete></tags-input></div><h5>Imagens:</h5><div class="form-images"><label class="form-file"><i class="fa" ng-class="vm.uploading ? \'fa-spinner fa-spin\' : \'fa-plus\'"></i> <input type="file" class="hidden" ng-model="vm.occurrence.files" onchange="angular.element(this).scope().uploadPictures(this)" multiple=""></label> <span class="form-image" ng-repeat="picture in vm.occurrence.pictures"><img ng-src="{{ picture.url }}"><div class="close" ng-click="vm.removePicture($index)"><i class="fa fa-times"></i></div></span></div></div></uib-tab><uib-tab heading="Votação" select="vm.setOccurrenceType(\'VOTING\')" ng-if="vm.Session.isAdmin()"><div class="form-post"><div class="form-group"><input ng-model="vm.occurrence.title" required="" type="text" placeholder="Escreva a pergunta que você deseja responder com a sua votação..." class="form-control"></div><div class="form-group"><textarea ng-model="vm.occurrence.description" required="" placeholder="Digite algumas informações importantes..." class="form-control"></textarea></div><h5>Imagens:</h5><div class="form-images"><label class="form-file"><i class="fa" ng-class="vm.uploading ? \'fa-spinner fa-spin\' : \'fa-plus\'"></i> <input type="file" class="hidden" ng-model="vm.occurrence.files" onchange="angular.element(this).scope().uploadPictures(this)" multiple=""></label> <span class="form-image" ng-repeat="picture in vm.occurrence.pictures"><img ng-src="{{ picture.url }}"><div class="close" ng-click="vm.removePicture($index)"><i class="fa fa-times"></i></div></span></div></div></uib-tab><uib-tab heading="Aviso" select="vm.setOccurrenceType(\'ADVICE\')" ng-if="vm.Session.isAdmin()"><div class="form-post"><div class="form-group"><input ng-model="vm.occurrence.title" required="" type="text" placeholder="Qual é o título do aviso?" class="form-control"></div><div class="form-group"><textarea ng-model="vm.occurrence.description" required="" placeholder="Agora escreva a mensagem que deseja publicar..." class="form-control"></textarea></div><h5>Imagens:</h5><div class="form-images"><label class="form-file"><i class="fa" ng-class="vm.uploading ? \'fa-spinner fa-spin\' : \'fa-plus\'"></i> <input type="file" class="hidden" ng-model="vm.occurrence.files" onchange="angular.element(this).scope().uploadPictures(this)" multiple=""></label> <span class="form-image" ng-repeat="picture in vm.occurrence.pictures"><img ng-src="{{ picture.url }}"><div class="close" ng-click="vm.removePicture($index)"><i class="fa fa-times"></i></div></span></div></div></uib-tab></uib-tabset></div><div class="panel-footer"><div class="text-right"><button type="submit" class="btn btn-sm btn-primary">Publicar</button></div></div></div></form><div class="text-center"><strong>Pesquisar por:</strong> &nbsp;&nbsp;&nbsp;<div class="btn-group btn-category" role="group"><button type="button" class="btn btn-default" ng-class="(vm.occurrences.type == undefined) ? \'btn-primary\' : \'btn-white\'" ng-click="vm.occurrences.type = undefined" ng-init="vm.occurrences.type = undefined">Todas</button> <button type="button" class="btn btn-default" ng-class="(vm.occurrences.type == \'PUBLIC\') ? \'btn-primary\' : \'btn-white\'" ng-click="vm.occurrences.type = \'PUBLIC\'">Públicas</button> <button type="button" class="btn btn-default" ng-class="(vm.occurrences.type == \'PRIVATE\') ? \'btn-primary\' : \'btn-white\'" ng-click="vm.occurrences.type = \'PRIVATE\'">Privadas</button> <button type="button" class="btn btn-default" ng-class="(vm.occurrences.type == \'VOTING\') ? \'btn-primary\' : \'btn-white\'" ng-click="vm.occurrences.type = \'VOTING\'">Votações</button> <button type="button" class="btn btn-default" ng-class="(vm.occurrences.type == \'ADVICE\') ? \'btn-primary\' : \'btn-white\'" ng-click="vm.occurrences.type = \'ADVICE\'">Avisos</button></div></div><br><div class="panel panel-default post" ng-repeat="occurrence in filteredOccurrences = (vm.occurrences | filter:vm.occurrences.type)"><div class="panel-heading"><header><div class="icon"><i class="fa fa-globe" ng-show="occurrence.type == \'PUBLIC\'"></i> <i class="fa fa-lock" ng-show="occurrence.type == \'PRIVATE\'"></i> <i class="fa fa-check-square-o" ng-show="occurrence.type == \'VOTING\'"></i> <i class="fa fa-newspaper-o" ng-show="occurrence.type == \'ADVICE\'"></i></div><div class="title"><div class="info"><span class="label label-lg" ng-show="occurrence.type == \'PUBLIC\'">Ocorrência Pública</span> <span class="label label-lg" ng-show="occurrence.type == \'PRIVATE\'">Ocorrência Privada</span> <span class="label label-lg" ng-show="occurrence.type == \'VOTING\'">Votação</span> <span class="label label-lg" ng-show="occurrence.type == \'ADVICE\'">Aviso</span> &nbsp; <small class="author">{{ occurrence.createdBy.firstName + \' \' + occurrence.createdBy.lastName }}</small> <small class="pull-right" am-time-ago="occurrence.createdAt"></small></div><h4>{{ occurrence.title }}</h4></div></header></div><div class="panel-body occurrence"><div class="btn-group options pull-right" ng-if="occurrence.type == \'VOTING\'"><button type="button" ng-class="{\'btn-success\': vm.findOccurrenceVote(occurrence.favorVotes)}" class="btn" ng-click="vm.voteOccurrence(occurrence, true)" ng-disabled="occurrence.isVoting">Sim <span class="badge" ng-show="occurrence.favorVotes.length">{{ occurrence.favorVotes.length }}</span></button> <button type="button" ng-class="{\'btn-danger\': vm.findOccurrenceVote(occurrence.againstVotes)}" class="btn" ng-click="vm.voteOccurrence(occurrence, false)" ng-disabled="occurrence.isVoting">Não <span class="badge" ng-show="occurrence.againstVotes.length">{{ occurrence.againstVotes.length }}</span></button></div><p class="description">{{ occurrence.description }}</p><ul class="images" ng-if="occurrence.pictures.length"><li class="image" lightgallery="" ng-repeat="picture in occurrence.pictures" data-src="{{trustSrc(picture.url)}}"><img ng-src="{{trustSrc(picture.url)}}"></li></ul><button class="btn btn-success btn-sm" ng-click="vm.likeOccurrence(occurrence)" ng-disabled="occurrence.isLoading"><i class="fa fa-thumbs-o-up"></i> <span class="badge" ng-show="occurrence.likers.length">{{ occurrence.likers.length }}</span></button></div><div class="panel-footer comments"><h4>Comentários <span class="badge">{{ occurrence.commentsTotal }}</span></h4><div class="list-group"><a href="javascript:void(0);" class="simple" ng-click="vm.showComments(occurrence)" ng-hide="occurrence.isShowingAllComments || !occurrence.comments.length || occurrence.commentsTotal <= occurrence.comments.length" promise-btn=""><i class="fa fa-angle-down"></i> Ver todos os comentários</a> <a href="javascript:void(0);" class="simple" ng-click="vm.hideComments(occurrence)" ng-show="occurrence.isShowingAllComments"><i class="fa fa-angle-up"></i> Esconder comentários</a><br><br><div class="list-group-item comment" ng-repeat="comment in occurrence.comments | orderBy:\'createdAt\'"><div class="row-picture" ng-show="comment.createdBy.picture"><img class="circle" ng-src="{{ trustSrc(comment.createdBy.picture.url) }}" alt="icon"></div><div class="row-content"><h3 class="list-group-item-heading">{{ comment.createdBy.firstName + \' \' + comment.createdBy.lastName }} <small am-time-ago="comment.createdAt"></small></h3><p class="list-group-item-text">{{ comment.description }}</p></div></div></div><form ng-submit="vm.commentOccurrence(occurrence)" promise-btn="" class="list-group"><div class="input-group"><input type="text" ng-model="occurrence.newComment" class="form-control" placeholder="Escreva um comentário"> <span class="input-group-btn"><button class="btn btn-sm btn-success" type="submit"><i class="fa fa-angle-right"></i></button></span></div></form></div></div><div class="text-center" ng-hide="vm.occurrences.length"><p>Nenhuma ocorrência foi encontrada</p></div><div class="text-center" ng-show="vm.occurrences.length > 0 && filteredOccurrences.length === 0"><p>Ops! Nenhuma ocorrência deste tipo foi postada.</p></div></div></div></div></div>'),e.put("app/modules/home/index.html","LANDING-PAGE"),e.put("app/modules/account/activate/activate.view.html",'<div class="logged-out sign-up pre-step" ng-controller="AccountActivateController as vm"><div class="container"><div class="container-alignment"><h1 class="logo">eCondos</h1><div class="container-block"><div ng-show="vm.account.$resolved"><div ng-show="vm.success"><h3>Obrigado!</h3>Sua conta foi ativada com sucesso!<br><p><a href="#/login" class="link">Agora você já pode acessar sua conta clicando aqui!</a></p></div><div ng-hide="vm.success">Ops...<br>Não foi possível ativar sua conta! Por favor tente novamente.</div></div><div ng-hide="vm.account.$resolved" class="text-center">Aguarde...</div></div></div></div></div>'),e.put("app/modules/account/login/login.view.html",'<div class="logged-out login" ng-controller="AccountLoginController as vm"><div class="container"><div class="container-alignment"><h1 class="logo">eCondos</h1><form ng-submit="vm.login()" promise-btn=""><div class="container-block"><div class="form-group form-group-label"><input class="form-control floating-label" type="email" placeholder="E-mail" ng-model="vm.user.login"></div><div class="form-group form-group-label"><input class="form-control floating-label" type="password" placeholder="Senha" ng-model="vm.user.password"></div><button type="submit" class="btn btn-primary btn-raised btn-xs-wide">Entrar</button> <button type="button" ng-click="vm.resetPassword()" class="btn btn-flat btn-forgot-password btn-default btn-xs-wide" promise-btn="">Esqueci minha senha</button></div></form><a href="/#/signup" title="Criar minha conta" class="link">Criar minha conta</a></div></div></div>'),e.put("app/modules/account/reset/reset.view.html",'<div class="logged-out reset" ng-controller="AccountResetController as vm"><div class="container"><div class="container-alignment"><h1 class="logo">eCondos</h1><form ng-submit="vm.reset()" promise-btn=""><div class="container-block"><h3>Esqueci minha senha</h3><div class="form-group form-group-label"><input class="form-control floating-label" type="email" placeholder="E-mail" ng-model="vm.user.email"></div><div class="form-group form-group-label"><input class="form-control floating-label" type="password" ng-model="vm.user.password" name="password" ng-minlength="5" ng-maxlength="100" placeholder="Senha" required=""></div><div class="form-group form-group-label"><input class="form-control floating-label" type="password" ng-model="vm.user.passwordConfirm" name="passwordConfirm" match="vm.user.password" ng-minlength="5" ng-maxlength="100" placeholder="Confirmar senha" required=""> <small class="text-danger" ng-if="user.passwordConfirm.$error.match">A confirmação da senha está incorreta</small></div><button type="submit" ng-disabled="user.$invalid" class="btn btn-primary btn-raised">Alterar senha</button></div></form><a href="#/login" title="Acessar minha conta" class="link">Acessar minha conta</a></div></div></div>'),e.put("app/modules/feed/condos/condos.view.html",'<div class="logged-in" ng-controller="FeedCondosController as vm"><div ng-include="\'app/modules/feed/navbar/navbar.view.html\'"></div><div class="container"><h2 class="section-title"><i class="fa fa-building fa-circled"></i>Meu Condomínios</h2><div class="panel panel-default"><div class="panel-heading"><h4>Adicionar Condomínio</h4></div><div class="panel-body"><div class="form-group condo-search"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span> <input type="text" ng-model="vm.filterTerm" ng-model-options="{ debounce: 1000 }" ng-change="vm.filterCondos()" class="form-control mask-cep" placeholder="Pesquisar..."></div></div><div class="condos-search-response" ng-show="vm.condos.length"><div class="panel panel-default" ng-repeat="condo in vm.condos"><div class="panel-heading"><strong>{{:: condo.name }}</strong></div><div class="panel-body"><h5>{{:: condo.address }}</h5><p>{{:: condo.city }}/{{:: condo.state }}</p><a href="" class="btn btn-default btn-success btn-xs" ng-click="vm.addCondo(condo)" ng-hide="vm.isAlreadyMine(condo)"><i class="fa fa-plus"></i><span class="hidden-xs">&nbsp; &nbsp;Adicionar</span></a> <span class="label label-default" ng-show="vm.isAlreadyMine(condo)"><i class="fa fa-check"></i> &nbsp; ADICIONADO</span></div></div></div><p ng-show="vm.loading"><span class="btn btn-material-grey-200"><i class="fa fa-spin fa-spinner"></i>&nbsp; Carregando</span></p><p ng-show="vm.condos.length || vm.filterTerm"><button class="btn btn-material-grey-200" type="button" ng-click="vm.createCondo()">Não encontrou?</button></p></div></div><div class="selected-condos"><div class="panel panel-default" ng-repeat="condo in vm.user.condos"><div class="panel-heading"><strong>{{:: condo.name }}</strong></div><div class="panel-body"><h5>{{:: condo.address }}</h5><p>{{:: condo.city }}/{{:: condo.state }}</p><a href="" class="btn btn-default btn-danger btn-xs" ng-click="vm.removeCondo(condo)"><i class="fa fa-trash"></i><span class="hidden-xs">&nbsp; &nbsp;Remover</span></a> <a href="#/{{ condo._id }}/integrantes" class="btn btn-default btn-success btn-xs"><i class="fa fa-users"></i>&nbsp; Integrantes</a></div></div></div></div></div>'),e.put("app/modules/feed/navbar/navbar.view.html",'<nav class="navbar navbar-default" ng-controller="FeedNavbarController as vm"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" ng-click="vm.isCollapsed = !vm.isCollapsed"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href=""></a></div><div class="navbar-collapse collapse navbar-responsive-collapse" uib-collapse="vm.isCollapsed"><ul class="nav navbar-nav navbar-left"><li><a href="#/feed" class="btn btn-sm btn-success btn-add-occurrence"><i class="fa fa-plus"></i> &nbsp; Nova Ocorrência</a></li></ul><ul class="nav navbar-nav navbar-right"><li><a href="#/feed">Página Inicial</a></li><li class="dropdown" uib-dropdown=""><a href="#" class="dropdown-toggle" uib-dropdown-toggle="" ng-click="vm.markNotificationsAsRead()"><i class="fa fa-bell hidden-xs"></i> <span class="visible-xs">Notificações</span> <span class="badge" ng-show="vm.getUnreadNotifications()">{{ vm.getUnreadNotifications() }}</span> <b class="caret visible-xs"></b></a><ul class="dropdown-menu" uib-dropdown-menu=""><li ng-repeat="notification in vm.notifications"><a><div class="inline"><strong>{{ notification.createdBy.firstName + \' \' + notification.createdBy.lastName }}</strong> <span ng-show="notification.type == \'OCCURRENCE:NEW\'">adicionou uma publicação</span> <span ng-show="notification.type == \'COMMENT:NEW\'">adicionou um novo comentário</span><br><small am-time-ago="notification.createdAt"></small></div></a></li><li ng-hide="vm.notifications.length"><a>Nenhuma notificação foi encontrada</a></li></ul></li><li class="dropdown" uib-dropdown="" ng-if="vm.user.condos.length > 1"><a href="" class="dropdown-toggle" uib-dropdown-toggle="">{{ vm.condo.name }} <b class="caret"></b></a><ul class="dropdown-menu" uib-dropdown-menu=""><li ng-repeat="condo in vm.user.condos" ng-if="condo._id != vm.condo._id"><a href="" ng-click="vm.chooseCondo(condo)">{{ condo.name }}</a></li></ul></li><li ng-if="vm.user.condos.length == 1"><a class="dropdown-toggle">{{ vm.condo.name }}</a></li><li class="dropdown" uib-dropdown=""><a href="" class="dropown-toggle" uib-dropdown-toggle=""><i class="fa fa-cog hidden-xs"></i> <span class="visible-xs">Configurações</span> <b class="caret"></b></a><ul class="dropdown-menu" uib-dropdown-menu=""><li><a href="#/meus-dados"><i class="fa fa-user"></i> &nbsp; Meu Dados</a></li><li><a href="#/meus-condominios"><i class="fa fa-building"></i> &nbsp; Meus Condomínios</a></li><li><a ng-click="vm.logOut()"><i class="fa fa-sign-out"></i> &nbsp; Sair</a></li></ul></li></ul></div></div></nav>'),
e.put("app/modules/feed/residents/residents.view.html",'<div class="logged-in" ng-controller="FeedResidentsController as vm"><div ng-include="\'app/modules/feed/navbar/navbar.view.html\'"></div><div class="container"><h2 class="section-title"><i class="fa fa-users fa-circled"></i><strong>Integrantes</strong> &raquo; {{ vm.condo.name }}</h2><div class="panel panel-box panel-box-residence panel-default" ng-hide="vm.residence.$resolved || vm.residences.$resolved"><div class="panel-body"><i class="fa fa-spinner fa-spin"></i> Carregando...</div></div><div class="panel panel-box panel-box-residence panel-default" ng-hide="vm.residence._id"><div class="panel-body" ng-show="vm.residences.$resolved"><div ng-hide="!vm.residences.length || vm.residenceNotFound"><form ng-submit="vm.setResidence()" promise-btn=""><div class="pull-left"><h4>Selecione a residência:</h4></div><div class="form-field pull-left"><select ng-model="vm.newResidence" ng-options="residence.identification for residence in vm.residences" class="form-control"></select></div><div class="pull-left"><button type="button" ng-click="vm.residenceNotFound = true; vm.residence = {};" class="btn btn-default btn-raised btn-sm">Não encontrou?</button> <button type="submit" class="btn btn-success btn-sm">Selecionar</button></div></form></div><div ng-show="!vm.residences.length || vm.residenceNotFound"><form ng-submit="vm.setResidence()" promise-btn=""><div class="pull-left"><h4>Digite o identificador da sua residência:</h4></div><div class="form-field pull-left"><input ng-model="vm.newResidence.identification" placeholder="Ex: Apartamento 110" class="form-control pull-left" autofocus=""></div><div class="pull-left"><button type="submit" class="btn btn-success btn-sm">Enviar</button></div></form></div></div></div><div class="panel panel-default" ng-show="vm.residence._id"><div class="panel-heading"><h4>{{ vm.residence.identification }} &nbsp; <button type="button" class="btn btn-primary btn-xs" ng-click="vm.changeResidence(vm.user, vm.residence.users);">Alterar Residência</button></h4></div><div class="panel-body"><h4>Integrantes</h4><hr><div class="list-group"><div class="list-group-item list-group-item-user" ng-repeat="user in vm.residence.users"><h4 class="list-group-item-heading">{{ (user.firstName) ? user.firstName + \' \' + user.lastName : "Sem nome" }} <span ng-if="vm.user._id == user._id">(eu)</span> <button type="button" class="btn btn-default btn-danger btn-xs" ng-click="vm.removeUser(user, vm.residence.users)" ng-hide="vm.user._id == user._id || !vm.Session.isAdmin()"><i class="fa fa-trash"></i><span class="hidden-xs">remover</span></button></h4></div><br><h4>Integrantes Convidados &nbsp; <button type="button" class="btn btn-default btn-success btn-xs" ng-click="vm.addUser()">Convidar</button></h4><hr><div class="list-group-item list-group-item-user" ng-repeat="user in vm.residence.requesters"><h5 class="list-group-item-heading">{{ (user.firstName) ? user.firstName + \' \' + user.lastName : "Sem nome" }} <span ng-if="vm.user._id == user._id">(eu)</span> <button type="button" class="btn btn-default btn-danger btn-xs" ng-click="vm.removeUser(user, vm.residence.requesters)" ng-hide="vm.user._id == user._id || vm.isRequester()"><i class="fa fa-trash"></i><span class="hidden-xs">remover</span></button></h5></div><div ng-show="vm.residence.requesters.length == 0">Você ainda não convidou nenhum integrante.</div></div></div></div></div></div>'),e.put("app/modules/feed/user/user.view.html",'<div class="logged-in" ng-controller="FeedUserController as vm"><div ng-include="\'app/modules/feed/navbar/navbar.view.html\'"></div><div class="container"><h2 class="section-title"><i class="fa fa-user fa-circled"></i>Editar Dados <a href="#/"></a></h2><div class="panel panel-default"><div class="panel-heading"><h4>Informações Pessoais</h4></div><div class="panel-body"><form ng-submit="vm.save()" promise-btn=""><div class="row"><div class="col-md-2"><label class="form-file"><div class="change-user-picture"><img src="{{ vm.user.picture.url }}" ng-show="vm.user.picture"><div class="empty" ng-hide="vm.user.picture"></div><div class="link" ng-hide="vm.uploading">Alterar Imagem</div><div class="link" ng-show="vm.uploading">Carregando...</div></div><input type="file" class="hidden" onchange="angular.element(this).scope().uploadPicture(this)"></label></div><div class="col-md-5"><div class="form-group form-group-label"><div class="form-control-wrapper"><input class="form-control" type="text" ng-model="vm.user.firstName" placeholder="Nome" required=""></div></div><div class="form-group form-group-label"><div class="form-control-wrapper"><input class="form-control" type="text" ng-model="vm.user.birthDate" placeholder="Data de nascimento" ui-date-mask="" required=""></div></div></div><div class="col-md-5"><div class="form-group form-group-label"><div class="form-control-wrapper"><input class="form-control" type="text" ng-model="vm.user.lastName" placeholder="Sobrenome" required=""></div></div><div class="form-group form-group-label"><div class="form-control-wrapper"><input class="form-control" type="text" ng-model="vm.user.phone" placeholder="Celular" ui-br-phone-number=""></div></div></div></div><button class="btn btn-primary btn-raised pull-right" type="submit">Salvar</button></form></div></div></div></div>'),e.put("app/modules/account/signup/step0/signup.step0.view.html",'<div class="logged-out sign-up pre-step" ng-controller="AccountSignupStep0Controller as vm"><div class="container"><div class="container-alignment"><h1 class="logo">eCondos</h1><div class="container-block"><form name="user" ng-hide="vm.success" ng-submit="vm.save()" promise-btn=""><h3>Vamos começar?</h3><div class="form-group form-group-label"><input class="form-control floating-label" type="email" ng-model="vm.user.login" name="login" ng-minlength="5" ng-maxlength="100" placeholder="E-mail" required=""></div><div class="form-group form-group-label"><input class="form-control floating-label" type="password" ng-model="vm.user.password" name="password" ng-minlength="5" ng-maxlength="100" placeholder="Senha" required=""></div><div class="form-group form-group-label"><input class="form-control floating-label" type="password" ng-model="vm.user.passwordConfirm" name="passwordConfirm" match="vm.user.password" ng-minlength="5" ng-maxlength="100" placeholder="Confirmar senha" required=""> <small class="text-danger" ng-if="user.passwordConfirm.$error.match">A confirmação da senha está incorreta</small></div><button type="submit" ng-disabled="user.$invalid" class="btn btn-primary btn-raised">Criar minha conta</button></form><div class="text-center" ng-show="vm.success"><h3><strong>Obrigado por se cadastrar!</strong></h3>Verifique seu e-mail para ativar sua conta.</div></div><a href="#/login" title="Acessar minha conta" class="link">Acessar minha conta</a></div></div></div>'),e.put("app/modules/account/signup/step1/signup.step1.view.html",'<div class="logged-out sign-up first-step" ng-controller="AccountSignupStep1Controller as vm"><div class="container"><div class="container-alignment"><h1 class="logo">eCondos</h1><div class="container-block"><ul class="steps"><li class="active"><a ng-href="#/signup/1" title="Informações Pessoais"><span class="icon"><i class="fa fa fa-user"></i></span> <span class="title">Informações Pessoais</span></a></li><li><a ng-href="#/signup/2" title="Meu Condomínio"><span class="icon"><i class="fa fa-building"></i></span> <span class="title">Meus Condomínios</span></a></li></ul><form name="user" ng-submit="vm.save()" promise-btn=""><div class="row"><div class="col-md-10"><div class="row"><div class="col-md-6"><div class="form-group form-group-label"><input class="form-control floating-label" ng-model="vm.user.firstName" type="text" placeholder="Nome" required=""></div></div><div class="col-md-6"><div class="form-group form-group-label"><input class="form-control floating-label" ng-model="vm.user.lastName" type="text" placeholder="Sobrenome" required=""></div></div><div class="col-md-6"><div class="form-group form-group-label"><input class="form-control floating-label mask-date" name="birthDate" type="text" placeholder="Data de Nascimento*" ng-model="vm.user.birthDate" ng-minlength="10" ui-date-mask="" required=""></div><small class="text-danger" ng-if="user.birthDate.$error.minlength || user.birthDate.$error.date">Verifique a data! Ex: {{ vm.date | date:\'dd-MM-yyyy\' }}.<br><br></small></div><div class="col-md-6"><div class="form-group form-group-label"><input class="form-control floating-label mask-mobile" type="text" placeholder="Celular" ng-model="vm.user.phone" ui-br-phone-number=""></div></div></div></div><div class="col-md-2"><br><label class="form-file"><div class="change-user-picture"><img src="{{ vm.user.picture.url }}" ng-show="vm.user.picture"><div class="empty" ng-hide="vm.user.picture"></div><div class="link" ng-hide="vm.uploading">Alterar Imagem</div><div class="link" ng-show="vm.uploading">Carregando...</div></div><input type="file" class="hidden" onchange="angular.element(this).scope().uploadPicture(this)"></label></div></div><button ng-disabled="user.$invalid" class="btn btn-primary btn-raised" type="submit">Próximo Passo</button> <a href="#/signup" class="btn btn-flat btn-default">Voltar</a><div><br><small class="text-danger" ng-if="user.$error.required">Preencha todos os campos!</small></div></form></div></div></div></div>'),e.put("app/modules/account/signup/step2/signup.step2.view.html",'<div class="logged-out sign-up second-step" ng-controller="AccountSignupStep2Controller as vm"><div class="container"><div class="container-alignment"><h1 class="logo">eCondos</h1><div class="container-block"><ul class="steps"><li><a ng-href="#/signup/1" title="Informações Pessoais"><span class="icon"><i class="fa fa fa-user"></i></span> <span class="title">Informações Pessoais</span></a></li><li class="active"><a ng-href="#/signup/2" title="Meus Condomínios"><span class="icon"><i class="fa fa-building"></i></span> <span class="title">Meu Condomínio</span></a></li></ul><h3>Encontre o seu condomínio</h3><br><form ng-submit="vm.save()" promise-btn=""><div class="form-group"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span> <input type="text" ng-model="vm.filterTerm" ng-model-options="{ debounce: 1000 }" ng-change="vm.filterCondos()" class="form-control mask-cep" placeholder="Pesquisar..."></div></div><div class="condos-search-response" ng-show="vm.condos.length"><div class="panel panel-default" ng-repeat="condo in vm.condos"><div class="panel-heading"><strong>{{:: condo.name }}</strong></div><div class="panel-body"><h5>{{:: condo.address }}</h5><p>{{:: condo.city }}/{{:: condo.state }}</p><a href="" class="btn btn-default btn-success btn-xs" ng-click="vm.chooseCondo(condo)"><i class="fa fa-plus"></i>&nbsp; &nbsp;Selecionar</a></div></div></div><p class="text-center" ng-show="vm.loading"><span class="btn btn-material-grey-200"><i class="fa fa-spin fa-spinner"></i>&nbsp; Carregando</span></p><p ng-show="vm.condos.length || vm.filterTerm"><button class="btn btn-material-grey-200" type="button" ng-click="vm.createCondo()">Não encontrou?</button></p><a href="#/signup/1" class="btn btn-flat btn-default">Voltar</a></form></div></div></div></div>'),e.put("app/modules/condo/modals/create/create.view.html",'<div class="modal-header"><button type="button" class="close" ng-click="vm.close()"><span aria-hidden="true">&times;</span></button><h3 class="modal-title">Adicionar Condomínio</h3></div><form name="condo" class="modal-body"><div class="row"><div class="col-sm-12"><div class="form-group form-group-label"><input class="form-control floating-label" type="text" placeholder="Nome do condomínio*" ng-model="vm.condo.name" required=""></div></div></div><div class="row"><div class="col-sm-4"><div class="form-group form-group-label"><input class="form-control floating-label" type="text" placeholder="CEP" ng-model="vm.condo.cep" ui-br-cep-mask=""></div></div></div><div class="row"><div class="col-sm-8"><div class="form-group form-group-label"><input class="form-control floating-label" type="text" placeholder="Endereço *" ng-model="vm.condo.address" required=""></div></div><div class="col-sm-4"><div class="form-group form-group-label"><input class="form-control floating-label" type="text" placeholder="Número" ng-model="vm.condo.number"></div></div></div><div class="row"><div class="col-sm-10"><div class="form-group form-group-label"><input class="form-control floating-label" type="text" placeholder="Cidade*" ng-model="vm.condo.city" required=""></div></div><div class="col-sm-2"><div class="form-group form-group-label"><input class="form-control floating-label" type="text" placeholder="Estado*" maxlength="2" ng-model="vm.condo.state" required=""></div></div></div></form><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$dismiss()">Cancelar</button> <button type="button" class="btn btn-primary" ng-disabled="condo.$invalid" ng-click="vm.save()">Salvar</button></div>'),e.put("app/modules/condo/modals/createUser/create.view.html",'<div class="modal-header"><button type="button" class="close" ng-click="vm.close()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel"><strong><i class="fa fa-plus fa-circled"></i> &nbsp;Adicionar Integrante</strong></h4></div><div class="modal-body modal-body-condoCreateUser"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span> <input type="text" class="form-control" ng-model="vm.filterTerm" ng-model-options="{ debounce: 1000 }" ng-change="vm.filterUsers()" placeholder="Pesquisar pelo e-mail"></div><br><div class="list-group" ng-show="vm.users.length"><div class="list-group-item" ng-repeat="user in vm.users"><h5 class="list-roup-item-heading">{{ (user.firstName) ? user.firstName + \' \' + user.lastName : vm.filterTerm }} <button type="button" class="btn btn-default btn-success btn-xs" ng-click="vm.chooseUser(user)"><i class="fa fa-plus"></i> adicionar</button></h5></div></div><div class="invite" ng-show="vm.users.length || (!vm.users.length && vm.filterTerm)"><form ng-submit="vm.createUser()"><div class="panel"><div class="panel-heading"><h5><strong>Não encontrou? Convide!</strong></h5></div><div class="panel-body"><div class="row"><div class="col-sm-6"><input ng-model="vm.user.firstName" class="form-control" placeholder="Nome" required=""></div><div class="col-sm-6"><input ng-model="vm.user.lastName" class="form-control" placeholder="Sobrenome" required=""></div><div class="col-sm-12"><input ng-model="vm.filterTerm" class="form-control" placeholder="E-mail" required=""></div></div></div></div><button class="btn btn-primary pull-right" type="submit">Convidar</button><br clear="all"></form></div></div>'),e.put("app/modules/residence/modals/create/create.view.html",'<div class="modal-header"><h3 class="modal-title">Adicionar Morador</h3></div><form name="residence" class="modal-body"><div class="row"><div class="col-sm-10"><div class="form-group form-group-label"><input class="form-control floating-label" type="text" placeholder="Numero da Unidade" ng-model="vm.residence.numero" required=""></div></div><div class="col-sm-2"><div class="form-group form-group-label"><input class="form-control floating-label" type="text" placeholder="Bloco" ng-model="vm.residence.bloco" required=""></div></div></div></form><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$dismiss()">Cancelar</button> <button type="button" class="btn btn-primary" ng-disabled="condo.$invalid" ng-click="vm.save()">Salvar</button></div>')}]);
//# sourceMappingURL=../maps/scripts/app-3ecc4f41fa.js.map
